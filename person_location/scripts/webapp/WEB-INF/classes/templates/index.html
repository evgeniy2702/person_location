<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Person_Location_Ukrposhta</title>
    <link src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"
          th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js}" >
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css}" >
    <link rel="stylesheet" type="text/css" th:href="@{/menu.css}" >
    <link rel="stylesheet" type="text/css" th:href="@{/modal.css}" >
</head>
<body >

<div class="container pb-3 pt-3">
    <h4 class="text-center">
        Відомості щодо місця розташування співробітників УКРПОШТА станом на :  <span th:text="${date}"> 26.07.2021</span>
    </h4>
    <div class="card border-dark my-4">

        <div id="input" class="card-body">
            <nav>
                <ul class="topmenu">
                    <li>
                        <!-- Триггер / Открыть Модальный -->
                        <a id="btnLastname" href="#modalLastname">Сортування по прізвищу</a>

                        <!-- Модальном окно -->
                        <div id="modalLastname" class="modal card-header text-center">

                            <!-- Модальное содержание -->
                            <div class="modal-content">
                                <span class="close">&times;</span>
                                <form th:id="linkFormName" th:action="@{~/person-location-data/person-list/by-lastname}"  th:method="post" >

                                    <label id="name" >Введіть прізвище співробітника : </label>
                                    <input th:name="name" type="search" placeholder="Котигорошoк"/>

                                    <input type="submit" th:form="linkFormName" value="Відправити" class="btn btn-info" />

                                </form>
                            </div>
                        </div>
                    </li>
                    <li>
                        <!-- Триггер / Открыть Модальный -->
                        <a id="btnDate" href="#modalDate">Сортування по даті</a>

                        <!-- Модальном окно -->
                        <div id="modalDate" class="modal card-header text-center">

                            <!-- Модальное содержание -->
                            <div class="modal-content date">
                                <span class="close">&times;</span>
                                <form th:id="linkFormDate" th:action="@{~/person-location-data/person-list/by-date}"  th:method="post" >
                                    <div class="text-center">
                                        <label for="day" >Оберіть дату останньої геолокації : </label>
                                    </div>
                                    <div class="text-center">
                                        <input id="day" class="btn btn-outline-primary" th:name="date" type="date"/>
                                    </div>
                                    <div class="text-center">
                                        <input type="submit" th:form="linkFormDate" value="Відправити" class="btn btn-info" />
                                    </div>

                                </form>
                            </div>
                        </div>
                    </li>
                    <li ><a th:href="@{~/person-location-data/current-date}" class="down" >Сортування по назві департаменту</a>
                        <ul class="submenu"  th:if="${emptyDirectorateList}" th:hidden="${emptyDirectorateList}">
                            <li  th:each="directorate : ${unitList}"  >
                                <a th:href="@{~/person-location-data/person-list/directorate/{directorate}(directorate = ${directorate})}"
                                   th:text="${directorate}" ></a>
                            </li>
                        </ul>
                        <ul class="submenu"  th:if="${!emptyDirectorateList}" th:hidden="${emptyDirectorateList}">
                            <li th:each="directorate : ${unitList}"  >
                                <a th:href="@{~/person-location-data/person-list/directorate/{directorate}(directorate = ${directorate})}"
                                   th:text="${directorate}" ></a>
                            </li>
                        </ul>
                    </li>
                    <li>

                        <!-- Триггер / Открыть Модальный -->
                        <a id="btnPhone" href="#modalPhone">Пошук за номером телефона</a>

                        <!-- Модальном окно -->
                        <div id="modalPhone" class="modal card-header text-center">

                            <!-- Модальное содержание -->
                            <div class="modal-content">
                                <span class="close">&times;</span>
                                <form th:id="linkFormPhone" th:action="@{~/person-location-data/person-list/by-phone}"  th:method="post" >

                                    <label id="phoneNumber" >Введіть номер телефону співробітника : </label>
                                    <input id="tel" th:name="phone" type="search"
                                           placeholder="067-222-22-22" />

                                    <input type="submit" th:form="linkFormPhone" value="Відправити" class="btn btn-info" />

                                </form>
                            </div>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
        <div class="card-footer text-center">
            <a class="btn btn-info" th:href="@{~/person-location-data/current-date}">Відомості станом на поточну дату !</a>
        </div>
    </div>
</div>

<hr/>
<div class="container pb-3 pt-3" style="font-size: small">
    <div class="row">
        <div class="col-md-20">
            <div class="panel panel-default">
                <div class="position-relative card border-dark">
                    <table id="alltable" class="table table-striped table-bordered table-hover"  border="1" >
                        <thead class="text-center" style="background-color: #E8EBEE">
                            <tr class="col" >
                                <th id="lastname" scope="col">Прізвище</th>
                                <th id="firstname" scope="col">Ім'я</th>
                                <th id="middle_name" scope="col">По батькові</th>
                                <th id="unit" scope="col">Департамент</th>
                                <th id="phone" scope="col">Контактнй телефон</th>
                                <th id="add_date" scope="col">Дата додавання</th>
                                <th id="location" scope="col" >Геолокація</th>
                                <th id="date_update_location" scope="col">Дата оновлення геолокаії</th>
                            </tr>
                            <!--<tr class="col text-center" >-->
                                <!--<td > <a th:href="@{/#}">&#128316;</a><a th:href="@{/#}">&#128317;</a> </td>-->
                                <!--<td > </td>-->
                                <!--<td > </td>-->
                                <!--<td > <a th:href="@{/#}">&#128316;</a><a th:href="@{/#}">&#128317;</a> </td>-->
                                <!--<td > </td>-->
                                <!--<td > <a th:href="@{/#}">&#128316;</a><a th:href="@{/#}">&#128317;</a> </td>-->
                                <!--<td > </td>-->
                                <!--<td > <a th:href="@{/#}">&#128316;</a><a th:href="@{/#}">&#128317;</a> </td>-->
                            <!--</tr>-->
                        </thead>
                        <tbody class="text-center">
                            <tr th:each="person : ${persons}" class="pl-md-5" scope="row" >
                                <th th:text="${person.getLastname()}" class="pl-md-5" scope="row" > </th>
                                <td th:text="${person.getFirstname()}" > </td>
                                <td th:text="${person.getMiddle_name()}" > </td>
                                <td th:text="${person.getDirectorate()}" > </td>
                                <td th:text="${person.getPhone()}" > </td>
                                <td th:text="${person.getDate_add().toLocalDate().toString()}" > </td>
                                <th class="pl-md-5 th_geolocation" >

                                    <!-- Триггер / Открыть Модальный -->
                                    <a th:text="${person.getText_location()}"> </a>

                                    <!-- Модальном окно -->
                                    <div class="modal card-header text-center div_modal">

                                        <!-- Модальное содержание -->
                                        <div class="modal-content map">
                                            <span class="close">&times;</span>

                                            <footer>
                                                <div class="footerBox">

                                                    <div class="footerInfoBox">
                                                        <div class="googleMap">
                                                            <!--<iframe th:src="@{'https://www.google.com/maps/embed/v1/place?key=AIzaSyCsFXx-hAhNheMt_16U1EABV8eqXmc38_s&q=' + ${person.getGeolocation()} + '&center=' + ${person.getGeolocation()} + '&zoom=10&maptype=roadmap&language=ru'}" allowfullscreen="" loading="lazy"></iframe>-->
                                                            <iframe th:src="${person.getLink_geolocation()}" allowfullscreen="" loading="lazy"></iframe>
                                                        </div>
                                                    </div>

                                                </div>
                                            </footer>

                                         </div>
                                     </div>
                                </th>
                                <td th:text="${person.getLast_modified().toLocalDate().toString()}" > </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.js"
        th:src="@{https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.js}"></script>
<script  th:src="@{/controller_js.js}"></script>
</body>
